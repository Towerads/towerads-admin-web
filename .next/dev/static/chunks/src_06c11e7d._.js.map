{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/slava/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/USL/towerads-admin-web/src/lib/api.ts"],"sourcesContent":["const API_URL = process.env.NEXT_PUBLIC_API_URL!;\r\n\r\nexport async function api(\r\n  path: string,\r\n  options: RequestInit = {}\r\n): Promise<any> {\r\n  const token =\r\n    typeof window !== \"undefined\"\r\n      ? localStorage.getItem(\"admin_token\")\r\n      : null;\r\n\r\n  const headers: HeadersInit = {\r\n    ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n    ...(options.headers || {}),\r\n  };\r\n\r\n  if (options.body) {\r\n    headers[\"Content-Type\"] = \"application/json\";\r\n  }\r\n\r\n  const res = await fetch(`${API_URL}${path}`, {\r\n    mode: \"cors\",              // üî• –í–ê–ñ–ù–û\r\n    credentials: \"include\",    // üî• –í–ê–ñ–ù–û (—É —Ç–µ–±—è cors —Å credentials)\r\n    ...options,\r\n    headers,\r\n  });\r\n\r\n  if (!res.ok) {\r\n    const text = await res.text();\r\n    throw new Error(text || `API error ${res.status}`);\r\n  }\r\n\r\n  return res.json();\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAgB;AAAhB,MAAM;AAEC,eAAe,IACpB,IAAY,EACZ,UAAuB,CAAC,CAAC;IAEzB,MAAM,QACJ,uCACI,aAAa,OAAO,CAAC,iBACrB;IAEN,MAAM,UAAuB;QAC3B,GAAI,QAAQ;YAAE,eAAe,CAAC,OAAO,EAAE,OAAO;QAAC,IAAI,CAAC,CAAC;QACrD,GAAI,QAAQ,OAAO,IAAI,CAAC,CAAC;IAC3B;IAEA,IAAI,QAAQ,IAAI,EAAE;QAChB,OAAO,CAAC,eAAe,GAAG;IAC5B;IAEA,MAAM,MAAM,MAAM,MAAM,GAAG,UAAU,MAAM,EAAE;QAC3C,MAAM;QACN,aAAa;QACb,GAAG,OAAO;QACV;IACF;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,IAAI,MAAM,QAAQ,CAAC,UAAU,EAAE,IAAI,MAAM,EAAE;IACnD;IAEA,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/slava/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/USL/towerads-admin-web/src/app/%28admin%29/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { api } from \"@/lib/api\";\r\n\r\ntype DashboardStats = {\r\n  requests: number;\r\n  impressions: number;\r\n  clicks: number;\r\n  revenue: number;\r\n};\r\n\r\nexport default function DashboardPage() {\r\n  const [data, setData] = useState<DashboardStats | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    api(\"/admin/stats\")\r\n      .then((r) => setData(r))\r\n      .catch(() => setError(\"Dashboard API error\"))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading dashboard‚Ä¶</div>;\r\n  }\r\n\r\n  if (error || !data) {\r\n    return (\r\n      <div className=\"page-inner\">\r\n        <div className=\"alert warning\">\r\n          <strong>Error</strong>\r\n          <div>{error}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"page-inner\">\r\n      <div className=\"page-header\">\r\n        <div>\r\n          <h1 className=\"page-title\">Dashboard</h1>\r\n          <p className=\"page-subtitle\">Overview of platform performance</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"dashboard-grid\">\r\n        <div className=\"dashboard-card\">\r\n          <div className=\"card-label\">Revenue</div>\r\n          <div className=\"card-value\">\r\n            ${data.revenue.toFixed(2)}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dashboard-card\">\r\n          <div className=\"card-label\">Impressions</div>\r\n          <div className=\"card-value\">\r\n            {data.impressions}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dashboard-card\">\r\n          <div className=\"card-label\">Clicks</div>\r\n          <div className=\"card-value\">\r\n            {data.clicks}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dashboard-card\">\r\n          <div className=\"card-label\">Requests</div>\r\n          <div className=\"card-value\">\r\n            {data.requests}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"dashboard-chart\">\r\n        <div className=\"chart-placeholder\">\r\n          Requests / Impressions / Clicks (24h)\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAYe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAwB;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,IAAA,0KAAS;mCAAC;YACR,WAAW;YACX,SAAS;YAET,IAAA,2HAAG,EAAC,gBACD,IAAI;2CAAC,CAAC,IAAM,QAAQ;0CACpB,KAAK;2CAAC,IAAM,SAAS;0CACrB,OAAO;2CAAC,IAAM,WAAW;;QAC9B;kCAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBAAO,6LAAC;YAAI,WAAU;sBAAU;;;;;;IAClC;IAEA,IAAI,SAAS,CAAC,MAAM;QAClB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;kCAAO;;;;;;kCACR,6LAAC;kCAAK;;;;;;;;;;;;;;;;;IAId;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;;sCACC,6LAAC;4BAAG,WAAU;sCAAa;;;;;;sCAC3B,6LAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;;;;;;0BAIjC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAa;;;;;;0CAC5B,6LAAC;gCAAI,WAAU;;oCAAa;oCACxB,KAAK,OAAO,CAAC,OAAO,CAAC;;;;;;;;;;;;;kCAI3B,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAa;;;;;;0CAC5B,6LAAC;gCAAI,WAAU;0CACZ,KAAK,WAAW;;;;;;;;;;;;kCAIrB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAa;;;;;;0CAC5B,6LAAC;gCAAI,WAAU;0CACZ,KAAK,MAAM;;;;;;;;;;;;kCAIhB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAa;;;;;;0CAC5B,6LAAC;gCAAI,WAAU;0CACZ,KAAK,QAAQ;;;;;;;;;;;;;;;;;;0BAKpB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BAAoB;;;;;;;;;;;;;;;;;AAM3C;GA5EwB;KAAA"}}]
}