{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/slava/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/USL/towerads-admin-web/src/app/%28admin%29/creatives/%5Bid%5D/page.tsx"],"sourcesContent":["import { notFound } from \"next/navigation\";\r\n\r\ntype Creative = {\r\n  id: string;\r\n  type: string;\r\n  media_url: string;\r\n  click_url: string;\r\n  duration: number | null;\r\n  status: string;\r\n  advertiser_email: string;\r\n  created_at: string;\r\n};\r\n\r\nasync function getCreative(id: string): Promise<Creative | null> {\r\n  const res = await fetch(\r\n    `${process.env.NEXT_PUBLIC_API_URL}/admin/creatives/${id}`,\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${process.env.ADMIN_TOKEN}`,\r\n      },\r\n      cache: \"no-store\",\r\n    }\r\n  );\r\n\r\n  if (!res.ok) return null;\r\n  return res.json();\r\n}\r\n\r\nexport default async function CreativePage({\r\n  params,\r\n}: {\r\n  params: { id: string };\r\n}) {\r\n  const creative = await getCreative(params.id);\r\n\r\n  if (!creative) {\r\n    notFound();\r\n  }\r\n\r\n  return (\r\n    <div style={{ maxWidth: 900, margin: \"0 auto\", padding: 24 }}>\r\n      <h1 style={{ fontSize: 28, marginBottom: 16 }}>\r\n        Creative review\r\n      </h1>\r\n\r\n      {/* VIDEO */}\r\n      {creative.type === \"video\" && (\r\n        <video\r\n          src={creative.media_url}\r\n          controls\r\n          style={{\r\n            width: \"100%\",\r\n            borderRadius: 12,\r\n            marginBottom: 20,\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* INFO */}\r\n      <div style={{ marginBottom: 20 }}>\r\n        <p><b>Type:</b> {creative.type}</p>\r\n        <p><b>Duration:</b> {creative.duration ?? \"-\"} sec</p>\r\n        <p>\r\n          <b>Click URL:</b>{\" \"}\r\n          <a href={creative.click_url} target=\"_blank\">\r\n            {creative.click_url}\r\n          </a>\r\n        </p>\r\n        <p><b>Advertiser:</b> {creative.advertiser_email}</p>\r\n        <p><b>Status:</b> {creative.status}</p>\r\n        <p><b>Created:</b> {new Date(creative.created_at).toLocaleString()}</p>\r\n      </div>\r\n\r\n      {/* ACTIONS */}\r\n      {creative.status === \"pending\" && (\r\n        <div style={{ display: \"flex\", gap: 12 }}>\r\n          <form\r\n            action={async () => {\r\n              \"use server\";\r\n              await fetch(\r\n                `${process.env.NEXT_PUBLIC_API_URL}/admin/creatives/approve`,\r\n                {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    Authorization: `Bearer ${process.env.ADMIN_TOKEN}`,\r\n                  },\r\n                  body: JSON.stringify({\r\n                    creative_id: creative.id,\r\n                  }),\r\n                }\r\n              );\r\n            }}\r\n          >\r\n            <button\r\n              style={{\r\n                padding: \"10px 16px\",\r\n                background: \"#22c55e\",\r\n                color: \"#fff\",\r\n                borderRadius: 8,\r\n                border: \"none\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              ✅ Approve\r\n            </button>\r\n          </form>\r\n\r\n          <form\r\n            action={async () => {\r\n              \"use server\";\r\n              await fetch(\r\n                `${process.env.NEXT_PUBLIC_API_URL}/admin/creatives/reject`,\r\n                {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    Authorization: `Bearer ${process.env.ADMIN_TOKEN}`,\r\n                  },\r\n                  body: JSON.stringify({\r\n                    creative_id: creative.id,\r\n                    reason: \"Rejected by admin\",\r\n                  }),\r\n                }\r\n              );\r\n            }}\r\n          >\r\n            <button\r\n              style={{\r\n                padding: \"10px 16px\",\r\n                background: \"#ef4444\",\r\n                color: \"#fff\",\r\n                borderRadius: 8,\r\n                border: \"none\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              ❌ Reject\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;oMAAA;AAAA;;;;;AAaA,eAAe,YAAY,EAAU;IACnC,MAAM,MAAM,MAAM,MAChB,6EAAmC,iBAAiB,EAAE,IAAI,EAC1D;QACE,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,QAAQ,GAAG,CAAC,WAAW,EAAE;QACpD;QACA,OAAO;IACT;IAGF,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;IACpB,OAAO,IAAI,IAAI;AACjB;MAmDoB,uCAAR;;IAEE,MAAM,MACJ,6EAAmC,wBAAwB,CAAC,EAC5D;QACE,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,eAAe,CAAC,OAAO,EAAE,QAAQ,GAAG,CAAC,WAAW,EAAE;QACpD;QACA,MAAM,KAAK,SAAS,CAAC;YACnB,WAAW;QACb;IACF;AAEJ;AAfQ,+OAAA;MAgCA,uCAAR;;IAEE,MAAM,MACJ,6EAAmC,uBAAuB,CAAC,EAC3D;QACE,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,eAAe,CAAC,OAAO,EAAE,QAAQ,GAAG,CAAC,WAAW,EAAE;QACpD;QACA,MAAM,KAAK,SAAS,CAAC;YACnB,WAAW;YACX,QAAQ;QACV;IACF;AAEJ;AAhBQ,+OAAA;AAjFL,eAAe,aAAa,EACzC,MAAM,EAGP;IACC,MAAM,WAAW,MAAM,YAAY,OAAO,EAAE;IAE5C,IAAI,CAAC,UAAU;QACb,IAAA,iMAAQ;IACV;IAEA,qBACE,8OAAC;QAAI,OAAO;YAAE,UAAU;YAAK,QAAQ;YAAU,SAAS;QAAG;;0BACzD,8OAAC;gBAAG,OAAO;oBAAE,UAAU;oBAAI,cAAc;gBAAG;0BAAG;;;;;;YAK9C,SAAS,IAAI,KAAK,yBACjB,8OAAC;gBACC,KAAK,SAAS,SAAS;gBACvB,QAAQ;gBACR,OAAO;oBACL,OAAO;oBACP,cAAc;oBACd,cAAc;gBAChB;;;;;;0BAKJ,8OAAC;gBAAI,OAAO;oBAAE,cAAc;gBAAG;;kCAC7B,8OAAC;;0CAAE,8OAAC;0CAAE;;;;;;4BAAS;4BAAE,SAAS,IAAI;;;;;;;kCAC9B,8OAAC;;0CAAE,8OAAC;0CAAE;;;;;;4BAAa;4BAAE,SAAS,QAAQ,IAAI;4BAAI;;;;;;;kCAC9C,8OAAC;;0CACC,8OAAC;0CAAE;;;;;;4BAAe;0CAClB,8OAAC;gCAAE,MAAM,SAAS,SAAS;gCAAE,QAAO;0CACjC,SAAS,SAAS;;;;;;;;;;;;kCAGvB,8OAAC;;0CAAE,8OAAC;0CAAE;;;;;;4BAAe;4BAAE,SAAS,gBAAgB;;;;;;;kCAChD,8OAAC;;0CAAE,8OAAC;0CAAE;;;;;;4BAAW;4BAAE,SAAS,MAAM;;;;;;;kCAClC,8OAAC;;0CAAE,8OAAC;0CAAE;;;;;;4BAAY;4BAAE,IAAI,KAAK,SAAS,UAAU,EAAE,cAAc;;;;;;;;;;;;;YAIjE,SAAS,MAAM,KAAK,2BACnB,8OAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,KAAK;gBAAG;;kCACrC,8OAAC;wBACC,MAAM,EAAE;kCAiBR,cAAA,8OAAC;4BACC,OAAO;gCACL,SAAS;gCACT,YAAY;gCACZ,OAAO;gCACP,cAAc;gCACd,QAAQ;gCACR,QAAQ;4BACV;sCACD;;;;;;;;;;;kCAKH,8OAAC;wBACC,MAAM,EAAE;kCAkBR,cAAA,8OAAC;4BACC,OAAO;gCACL,SAAS;gCACT,YAAY;gCACZ,OAAO;gCACP,cAAc;gCACd,QAAQ;gCACR,QAAQ;4BACV;sCACD;;;;;;;;;;;;;;;;;;;;;;;AAQb"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/slava/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/USL/towerads-admin-web/.next-internal/server/app/%28admin%29/creatives/%5Bid%5D/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '400baa6ae88db7f7e1befa821a5b0abf1f062c038a'} from 'ACTIONS_MODULE0'\nexport {$$RSC_SERVER_ACTION_1 as '40efa03ed2052f91e90fda01988f1d41467ddff831'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}