{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/slava/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/USL/towerads-admin-web/src/lib/api.ts"],"sourcesContent":["const API_URL = process.env.NEXT_PUBLIC_API_URL!;\r\n\r\nexport async function api(\r\n  path: string,\r\n  options: RequestInit = {}\r\n): Promise<any> {\r\n  const token =\r\n    typeof window !== \"undefined\"\r\n      ? localStorage.getItem(\"admin_token\")\r\n      : null;\r\n\r\n  const res = await fetch(`${API_URL}${path}`, {\r\n    ...options,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n      ...(options.headers || {}),\r\n    },\r\n  });\r\n\r\n  if (!res.ok) {\r\n    const text = await res.text();\r\n    throw new Error(text || `API error ${res.status}`);\r\n  }\r\n\r\n  return res.json();\r\n}\r\n"],"names":[],"mappings":";;;;AAAA,MAAM;AAEC,eAAe,IACpB,IAAY,EACZ,UAAuB,CAAC,CAAC;IAEzB,MAAM,QACJ,sCACI,0BACA;IAEN,MAAM,MAAM,MAAM,MAAM,GAAG,UAAU,MAAM,EAAE;QAC3C,GAAG,OAAO;QACV,SAAS;YACP,gBAAgB;YAChB,GAAI,sCAAQ,0BAAuC,CAAC,CAAC;YACrD,GAAI,QAAQ,OAAO,IAAI,CAAC,CAAC;QAC3B;IACF;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,IAAI,MAAM,QAAQ,CAAC,UAAU,EAAE,IAAI,MAAM,EAAE;IACnD;IAEA,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/slava/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/USL/towerads-admin-web/src/app/%28admin%29/creatives/%5Bid%5D/page.tsx"],"sourcesContent":["import { notFound } from \"next/navigation\";\r\nimport { api } from \"@/lib/api\";\r\n\r\ntype Creative = {\r\n  id: string;\r\n  type: string;\r\n  media_url: string;\r\n  status: \"draft\" | \"pending\" | \"approved\" | \"rejected\" | \"frozen\";\r\n  advertiser_email: string;\r\n  created_at: string;\r\n};\r\n\r\nasync function getCreative(id: string): Promise<Creative | null> {\r\n  try {\r\n    // â—ï¸Ð’ÐÐ–ÐÐž:\r\n    // Ð£ Ñ‚ÐµÐ±Ñ ÐÐ•Ð¢ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ð° /admin/creatives/:id\r\n    // ÐŸÐ¾ÑÑ‚Ð¾Ð¼Ñƒ Ð±ÐµÑ€Ñ‘Ð¼ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ /admin/creatives/pending\r\n    const res = await api(\"/admin/creatives/pending\", {\r\n      cache: \"no-store\",\r\n    });\r\n\r\n    const creatives: Creative[] = res.creatives ?? [];\r\n\r\n    const creative = creatives.find((c) => c.id === id);\r\n\r\n    return creative ?? null;\r\n  } catch (err) {\r\n    console.error(\"getCreative error\", err);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default async function CreativePage({\r\n  params,\r\n}: {\r\n  params: Promise<{ id: string }>;\r\n}) {\r\n  // ðŸ”¥ params Ð² App Router â€” Promise\r\n  const { id } = await params;\r\n\r\n  if (!id) {\r\n    notFound();\r\n  }\r\n\r\n  const creative = await getCreative(id);\r\n\r\n  if (!creative) {\r\n    notFound();\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <h1>Creative review</h1>\r\n\r\n      <video\r\n        src={creative.media_url}\r\n        controls\r\n        preload=\"metadata\"\r\n        style={{ maxWidth: \"100%\" }}\r\n      />\r\n\r\n      <p>\r\n        <b>Status:</b> {creative.status}\r\n      </p>\r\n      <p>\r\n        <b>Advertiser:</b> {creative.advertiser_email}\r\n      </p>\r\n      <p>\r\n        <b>Type:</b> {creative.type}\r\n      </p>\r\n      <p>\r\n        <b>Created:</b>{\" \"}\r\n        {new Date(creative.created_at).toLocaleString()}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;;;;AAWA,eAAe,YAAY,EAAU;IACnC,IAAI;QACF,WAAW;QACX,4CAA4C;QAC5C,kDAAkD;QAClD,MAAM,MAAM,MAAM,IAAA,wHAAG,EAAC,4BAA4B;YAChD,OAAO;QACT;QAEA,MAAM,YAAwB,IAAI,SAAS,IAAI,EAAE;QAEjD,MAAM,WAAW,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAEhD,OAAO,YAAY;IACrB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO;IACT;AACF;AAEe,eAAe,aAAa,EACzC,MAAM,EAGP;IACC,mCAAmC;IACnC,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;IAErB,IAAI,CAAC,IAAI;QACP,IAAA,iMAAQ;IACV;IAEA,MAAM,WAAW,MAAM,YAAY;IAEnC,IAAI,CAAC,UAAU;QACb,IAAA,iMAAQ;IACV;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;0BAAG;;;;;;0BAEJ,8OAAC;gBACC,KAAK,SAAS,SAAS;gBACvB,QAAQ;gBACR,SAAQ;gBACR,OAAO;oBAAE,UAAU;gBAAO;;;;;;0BAG5B,8OAAC;;kCACC,8OAAC;kCAAE;;;;;;oBAAW;oBAAE,SAAS,MAAM;;;;;;;0BAEjC,8OAAC;;kCACC,8OAAC;kCAAE;;;;;;oBAAe;oBAAE,SAAS,gBAAgB;;;;;;;0BAE/C,8OAAC;;kCACC,8OAAC;kCAAE;;;;;;oBAAS;oBAAE,SAAS,IAAI;;;;;;;0BAE7B,8OAAC;;kCACC,8OAAC;kCAAE;;;;;;oBAAa;oBACf,IAAI,KAAK,SAAS,UAAU,EAAE,cAAc;;;;;;;;;;;;;AAIrD"}}]
}